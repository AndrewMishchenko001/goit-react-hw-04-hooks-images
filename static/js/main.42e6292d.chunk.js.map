{"version":3,"sources":["Section.js","components/Searchbar/Searchbar.js","components/ApiService/ApiService.js","components/Context/Context.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","components/StartPage/StartPage.js","components/ImageFinder/ImageFinder.js","App.js","index.js"],"names":["Section","title","children","Gallery","onSubmit","useState","pictureName","setPictureName","e","preventDefault","trim","toast","error","className","type","autoComplete","autoFocus","value","onChange","currentTarget","toLowerCase","placeholder","apiService","query","currentPage","axios","get","then","response","data","hits","propTypes","PropTypes","string","isRequired","number","createContext","ImageGallery","gallery","map","image","id","webformatURL","largeImageURL","previewURL","Consumer","hadleImageClick","src","alt","onClick","ImageGalleryItem","onBtnClick","LoaderSpinner","color","height","width","timeout","modalRoot","document","querySelector","Modal","onClose","useEffect","handleKeyDown","code","window","addEventListener","removeEventListener","createPortal","target","StartPage","ImageFinder","setCurrentPage","isLoading","setIsLoading","setGallery","isModalOpen","setIsModalOpen","selectedImgURL","setSelectedImageUrl","fetchPictures","images","catch","finally","scroll","scrollTo","top","body","scrollHeight","behavior","length","Loader","Provider","nodeName","fullImgLink","getAttribute","style","overflowY","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.42e6292d.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Section({ title, children }) {\n  return (\n    <>\n      {title && <h1>{title}</h1>}\n      {children}\n    </>\n  );\n}\n\nSection.propTypes = {\n  title: PropTypes.string,\n  children: PropTypes.node,\n};\n\nexport default Section;\n","import { useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nexport default function Gallery({ onSubmit }) {\n  const [pictureName, setPictureName] = useState(\"\");\n\n  const handleNameChange = (e) => {\n    setPictureName(e.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (pictureName.trim() === \"\") {\n      return toast.error(\"Введите название картинки\");\n    }\n    onSubmit(pictureName);\n    setPictureName(\"\");\n  };\n\n  return (\n    <header onSubmit={handleSubmit} className=\"Searchbar\">\n      <form className=\"SearchForm\">\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          value={pictureName}\n          onChange={handleNameChange}\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n}\n","import axios from \"axios\";\nimport PropTypes from \"prop-types\";\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"23222318-53c9b232bd4285490ccfd863a\";\n\nconst apiService = (query, currentPage) => {\n  return axios\n    .get(\n      `${BASE_URL}?q=${query}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n    )\n    .then((response) => response.data.hits);\n};\n\napiService.propTypes = {\n  query: PropTypes.string.isRequired,\n  currentPage: PropTypes.number.isRequired,\n};\n\nexport default apiService;\n","import { createContext } from 'react';\n\nexport default createContext();\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem';\n\nexport default function ImageGallery({ gallery }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {gallery.map(image => ImageGalleryItem(image))}\n    </ul>\n  );\n}\nImageGallery.propTypes = {\n  gallery: PropTypes.array.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport authContext from '../Context';\n\nexport default function ImageGalleryItem({\n  id,\n  webformatURL,\n  largeImageURL,\n  previewURL,\n}) {\n  return (\n    <li className=\"ImageGalleryItem\" key={`id-${id}`}>\n      <authContext.Consumer>\n        {hadleImageClick => (\n          <img\n            src={webformatURL}\n            data-src={previewURL}\n            alt=\"searchedPicture\"\n            data-large={largeImageURL}\n            className=\"ImageGalleryItem-image lazyload blur-up\"\n            onClick={hadleImageClick}\n          />\n        )}\n      </authContext.Consumer>\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  previewURL: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction onBtnClick({ onClick }) {\n  return (\n    <button type=\"button\" className=\"Button\" onClick={onClick}>\n      Загрузить еще\n    </button>\n  );\n}\nonBtnClick.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default onBtnClick;\n","import React from 'react';\nimport Loader from 'react-loader-spinner';\n\nfunction LoaderSpinner() {\n  return (\n    <Loader\n      className=\"Loader App-logo\"\n      type=\"ThreeDots\"\n      color=\"#11BFFF\"\n      height={300}\n      width={300}\n      timeout={3000}\n    />\n  );\n}\n\nexport default LoaderSpinner;\n","import { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport default function Modal({ onClose, children }) {\n  useEffect(() => {\n    const handleKeyDown = (e) => {\n      if (e.code === \"Escape\") {\n        onClose();\n      }\n    };\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return function reset() {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  }, [onClose]);\n\n  const handelBackdropClick = (e) => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n  return createPortal(\n    <div className=\"Modal__backdrop\" onClick={handelBackdropClick}>\n      <div className=\"Modal__content\">{children}</div>\n    </div>,\n    modalRoot\n  );\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n","import React from \"react\";\n\nexport default function StartPage() {\n  return (\n    <div>\n      <h2 className=\"StartPage-header\">\n        Pictures is waiting for you, just try to type something...\n      </h2>\n    </div>\n  );\n}\n","// import React, { Component } from \"react\";\n\nimport { ToastContainer } from \"react-toastify\";\nimport { useState, useEffect } from \"react\";\nimport Searchbar from \"../Searchbar\";\nimport fetchPictures from \"../ApiService\";\nimport ImageGallery from \"../ImageGallery\";\nimport OnLoadMoreBtnClick from \"../Button\";\nimport LoaderSpinner from \"../Loader\";\nimport authContext from \"../Context\";\nimport Modal from \"../Modal\";\nimport StartPage from \"../StartPage\";\n\nexport default function ImageFinder() {\n  const [pictureName, setPictureName] = useState(\"\");\n  const [currentPage, setCurrentPage] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n  const [gallery, setGallery] = useState([]);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [selectedImgURL, setSelectedImageUrl] = useState(\"\");\n\n  useEffect(() => {\n    if (!pictureName) {\n      return;\n    }\n    setIsLoading(true);\n\n    fetchPictures(pictureName, currentPage)\n      .then((images) => {\n        setGallery((gallery) => [...gallery, ...images]);\n      })\n      .catch((error) => error)\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }, [pictureName, currentPage]);\n\n  const onLoadMoreBtnClick = () => {\n    setCurrentPage((currentPage) => currentPage + 1);\n    scroll();\n  };\n\n  const scroll = () => {\n    window.scrollTo({\n      top: document.body.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  const handleFormSubmit = (query) => {\n    if (query !== pictureName) {\n      setGallery([]);\n      setPictureName(query);\n      setCurrentPage(1);\n    }\n  };\n\n  const handleImageClick = (e) => {\n    if (e.target.nodeName !== \"IMG\") {\n      return;\n    }\n    e.preventDefault();\n    const fullImgLink = e.target.getAttribute(\"data-large\");\n\n    setSelectedImageUrl(fullImgLink);\n    setIsModalOpen(true);\n  };\n\n  const toggleModal = () => {\n    setIsModalOpen(!isModalOpen);\n\n    if (isModalOpen) {\n      document.body.style.overflowY = \"hidden\";\n    }\n  };\n\n  return (\n    <div>\n      <Searchbar onSubmit={handleFormSubmit} />\n      {gallery.length === 0 && <StartPage />}\n      <ToastContainer />\n      <div className=\"Wrapper\">{isLoading && <LoaderSpinner />}</div>\n      <authContext.Provider value={handleImageClick}>\n        {pictureName && <ImageGallery gallery={gallery} />}\n      </authContext.Provider>\n\n      {isModalOpen && (\n        <Modal onClose={toggleModal}>\n          <img src={selectedImgURL} alt=\"fullsizeImage\"></img>\n        </Modal>\n      )}\n      <div className=\"BtnWrapper\">\n        {pictureName && gallery.length > 11 && (\n          <OnLoadMoreBtnClick onClick={onLoadMoreBtnClick} />\n        )}\n      </div>\n    </div>\n  );\n}\n","import Section from \"./Section\";\nimport ImageFinder from \"./components/ImageFinder\";\n\nexport default function App() {\n  return (\n    <Section>\n      <ImageFinder />\n    </Section>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}